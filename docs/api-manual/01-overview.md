# I. 概要

## 1. API の種類
> 出典: api_manual.pdf p.2

時系列統計データ検索サイト（以下、検索サイト）では、JSON形式またはCSV形式で時系列統計データを取得できるAPI機能を提供しています。API機能はどなたでも利用可能です。

APIには以下の3種類があります。

| 種類 | 取得データ | 指定条件 | 備考 |
|---|---|---|---|
| コードAPI | 時系列統計データ | 系列コード | - |
| 階層API | 階層情報 | 階層情報 | 階層情報は、DB毎にデータ系列をツリー構造で整理した情報 |
| メタデータAPI | メタ情報 | DB名 | メタ情報は系列コード・系列名称等の属性情報。コードAPI/階層APIのパラメータ作成に利用可能 |

API機能の利用上の留意点は、`https://www.stat-search.boj.or.jp/info/api_notice.pdf` を参照してください。

## 2. リクエストの実行方法
> 出典: api_manual.pdf p.2

API機能では、検索条件をURLパラメータとして指定したリクエストURLを送信します。出力ファイル形式（JSON/CSV）と言語（日本語/英語）もURLパラメータで指定します。

リクエストURL例（コードAPI）:

`https://www.stat-search.boj.or.jp/api/v1/getDataCode?format=json&lang=jp&db=CO&startDate=202401&endDate=202504&code=TK99F1000601GCQ01000,TK99F2000601GCQ01000`

通信データ量削減のため、HTTPレスポンスのgzip圧縮に対応しています。ツール・プログラムで実行する場合は `Accept-Encoding: gzip` ヘッダー設定が可能です。

高頻度アクセスは避けてください。高頻度アクセス時は接続が遮断される可能性があります。

## 3. 取得対象となるデータの範囲
> 出典: api_manual.pdf p.3

| データ取得方法 | 取得対象データの範囲 | 出力ファイル形式 |
|---|---|---|
| API機能 | 全データ | JSON、CSV |
| 検索画面を利用した検索 | 全データ | CSV、TXT |
| 一括ダウンロードファイル（画面上でファイル指定） | 一部統計 | CSV（ZIP形式で圧縮） |

一部統計の対象: 物価統計、資金循環統計、短観、国際収支統計、BIS関連統計。

## 4. データ更新のタイミング
> 出典: api_manual.pdf p.3

コードAPI/階層APIで取得できる時系列統計データは、検索画面の検索結果と同様です。メタデータAPIで取得できるメタ情報ファイルは日々定期更新されています。

検索サイトでは原則として8時50分頃に時系列統計データの更新を行います（業務都合で遅延する場合あり）。

各統計の公表日は `https://www.boj.or.jp/statistics/outline/index.htm` を参照してください。

## 5. リクエストURL 作成補助ツール
> 出典: api_manual.pdf p.3

各APIのリクエストURL作成には、以下の補助ツールが利用できます。

`https://www.stat-search.boj.or.jp/info/api_tool.xlsx`
